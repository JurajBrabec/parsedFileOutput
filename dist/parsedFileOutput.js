var m=(u,o)=>()=>(o||u((o={exports:{}}).exports,o),o.exports);var d=m((y,F)=>{var{execFile:k}=require("child_process"),{PassThrough:x}=require("stream");F.exports=({file:u,args:o=[],options:f={}})=>{let a=(r=[])=>new Promise((s,e)=>{let c={encoding:"utf8",maxBuffer:1/0},n=k(u,[...o,...r],{...c,...f});n.on("error",e),n.on("spawn",()=>{let t=new x;n.stdout.pipe(t),n.stderr.pipe(t),s(t)})}),p=async r=>{let s="";for await(let e of r)s+=e;return s};return(r=[])=>(y.asStream=()=>a(r),y.asString=()=>a(r).then(p),y)}});var w=m((g,O)=>{var I=d();O.exports=({file:u,args:o=[],options:f,delimiter:a=/\r?\n/})=>{let p=I({file:u,args:o,options:f}),r=async function*(s){let e="";for await(let c of s){let n=(e+c).split(a);e=n.pop();for(let t of n)yield t.trim()}e!==""&&(yield e.trim())};return(s=[])=>(g.asSplits=()=>p(s).asStream().then(r),g)}});var P=m((q,E)=>{var R=w();E.exports=({file:u,args:o=[],delimiter:f=/\r?\n/,options:a,parser:p=r=>r})=>{let r=R({file:u,args:o,options:a,delimiter:f}),s=async function*(c){for await(let n of c){let t=p(n);t&&(yield t)}},e=async c=>{let n=[];for await(let t of c)Array.isArray(t)?n.push(...t):n.push(t);return n};return(c=[])=>(q.asItems=()=>r(c).asSplits().then(s),q.asArray=()=>r(c).asSplits().then(s).then(e),q)}});var _=m((z,$)=>{$.exports=({separator:u=",",quote:o='"',fields:f,split:a,assign:p,cast:r})=>{let s=n=>{let t=o,h=u instanceof RegExp?u.source:u,i=new RegExp(`(?<!${t}.{0,255})${h}|${h}(?!.*${t}.*)`);return n.split(i).map(l=>l.trim())},e=n=>Object.entries(f).reduce((t,[h,i],l)=>{typeof i=="string"&&(i={type:i}),i.index!==void 0&&(l=i.index);let S=n[l];if(i.regExp){let A=S.match(i.regExp);S=A?A[1]:void 0}return t[h]=c(S,i),t},{}),c=(n,t)=>r?r(n,t):n;return n=>{if(!n)return!1;let t=a?a(n,s):s(n);if(!t)return!1;let h=i=>p?p(i,e):e(i);return Array.isArray(t[0])?t.map(h):h(t)}}});var b=d(),j=w(),B=P(),T=_();module.exports={FileOutput:b,SplitFileOutput:j,ParsedFileOutput:B,Parser:T};
