var m=(o,c)=>()=>(c||o((c={exports:{}}).exports,c),c.exports);var F=m((y,g)=>{var{execFile:k}=require("child_process");g.exports=({file:o,args:c=[],options:l={encoding:"utf8",maxBuffer:1/0}})=>{let a=(s=[])=>new Promise((e,i)=>{let n=k(o,[...c,...s],l);n.on("error",i),n.on("spawn",()=>e(n.stdout.wrap(n.stderr)))}),p=async s=>{let e="";for await(let i of s)e+=i;return e};return(s=[])=>(y.asStream=()=>a(s),y.asString=()=>a(s).then(p),y)}});var q=m((S,A)=>{var x=F();A.exports=({file:o,args:c=[],options:l,delimiter:a=/\r?\n/})=>{let p=x({file:o,args:c,options:l}),s=async function*(e){let i="";for await(let n of e){let r=(i+n).split(a);i=r.pop();for(let t of r)yield t.trim()}i!==""&&(yield i.trim())};return(e=[])=>(S.asSplits=()=>p(e).asStream().then(s),S)}});var _=m((O,E)=>{var I=q();E.exports=({file:o,args:c=[],delimiter:l=/\r?\n/,options:a,parser:p=s=>s})=>{let s=I({file:o,args:c,options:a,delimiter:l}),e=async function*(n){for await(let r of n){let t=p(r);t&&(yield t)}},i=async n=>{let r=[];for await(let t of n)Array.isArray(t)?r.push(...t):r.push(t);return r};return(n=[])=>(O.asItems=()=>s(n).asSplits().then(e),O.asArray=()=>s(n).asSplits().then(e).then(i),O)}});var P=m((z,$)=>{$.exports=({separator:o=",",quote:c='"',fields:l,split:a,assign:p,cast:s})=>{let e=r=>{let t=c,f=o instanceof RegExp?o.source:o,u=new RegExp(`(?<!${t}.{0,255})${f}|${f}(?!.*${t}.*)`);return r.split(u).map(h=>h.trim())},i=r=>Object.entries(l).reduce((t,[f,u],h)=>{typeof u=="string"&&(u={type:u}),u.index!==void 0&&(h=u.index);let d=r[h];if(u.regExp){let w=d.match(u.regExp);d=w?w[1]:void 0}return t[f]=n(d,u),t},{}),n=(r,t)=>s?s(r,t):r;return r=>{if(!r)return!1;let t=a?a(r,e):e(r);if(!t)return!1;let f=u=>p?p(u,i):i(u);return Array.isArray(t[0])?t.map(f):f(t)}}});var R=F(),b=q(),j=_(),B=P();module.exports={FileOutput:R,SplitFileOutput:b,ParsedFileOutput:j,Parser:B};
